# Copyright 2016 ITEA 12004 SEAS Project.
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#      http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing,
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> . #Resource data framework
@prefix owl: <http://www.w3.org/2002/07/owl#> .     #Owl ontology language
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .   #RDF schema 
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .  #XML standard datatypes
@prefix dc: <http://purl.org/dc/terms/> .  #Dublin Core Metadata Initiative terms
@prefix vann: <http://purl.org/vocab/vann/> .  #A vocabulary for annotating vocabulary descriptions
@prefix voaf: <http://purl.org/vocommons/voaf#> . #A vocabulary of a friend, for describing relations between linked vocabularies
@prefix vs: <http://www.w3.org/2003/06/sw-vocab-status/ns#> . #Semantic web vocabulary status ontology
@prefix foaf: <http://xmlns.com/foaf/0.1/>.
@prefix ssn: <https://www.w3.org/ns/ssn/>.
@prefix cc: <http://creativecommons.org/ns#>.
@prefix dul: <http://www.ontologydesignpatterns.org/ont/dul/DUL.owl#>. # The DOLCE+DnS Ultralite ontology.
@prefix qb: <http://purl.org/linked-data/cube#>.
@prefix qudt: <http://qudt.org/1.1/schema/qudt#>.
@prefix sd: <http://www.w3.org/ns/sparql-service-description#>.
@prefix rdfg: <http://www.w3.org/2004/03/trix/rdfg-1/>.
@prefix ssn: <http://purl.oclc.org/NET/ssnx/ssn#>.

@prefix rdfp: <https://w3id.org/rdfp/>.
@base <https://w3id.org/rdfp/>.

rdfp: a owl:Ontology , voaf:Vocabulary , foaf:Document ;
  dc:title "RDF Presentation ontology."@en ;
  dc:description """This ontology defines a simple vocabulary to describe RDF Graphs and their representations.

  The URI of a named graph is the identification of that graph in the sense of the W3C Architecture of the World Wide Web, Volume One.
  The graph is the content, and that graph can be represented as many different documents that can then be exchanged on the Web."""@en ;
  dc:issued "2016-08-31"^^xsd:date ;
  dc:modified "2016-08-31"^^xsd:date ;
  dc:author <http://www.maxime-lefrancois.info/me#> ;
  cc:license <http://creativecommons.org/licenses/by/4.0/> ;
  vann:preferredNamespacePrefix "rdfp" ;
  vann:preferredNamespaceUri <https://w3id.org/rdfp/> ;  
  owl:versionIRI <1.0> ;
  owl:versionInfo "v1.0" . 

rdfp:GraphDescription a rdfs:Class ;
  rdfs:label "Graph Description"@en ;
  rdfs:comment """Instances of rdfp:GraphDescription describe RDF Graphs in terms of validation and presentation.

  A rdfp:GraphDescription may be linked to one or more validation rules.
  A rdfp:GraphDescription may be linked to one or more instances or rdfp:Presentation.

   For example,
 
   <https://w3id.org/rdfp/example/graph> a rdfp:GraphDescription ;
     rdfp:validationRule <some_sparql_ask_rule> ;
     rdfp:presentedBy <some_presentation_description> .

  Class rdfp:GraphDescription is equivalent to class sd:Graph from the SPARQL Service Description.

  We can hence use property sd:graph to relate a named graph to graph description"""@en ;
  vs:term_status "testing" ;
  rdfs:isDefinedBy rdfp: .

rdfp:GraphDescription rdfs:subClassOf sd:Graph .
sd:Graph rdfs:subClassOf rdfp:GraphDescription .

rdfp:GraphPresentation a rdfs:Class ;
  rdfs:label "Presentation"@en ;
  rdfs:comment """Instances of rdfp:GraphPresentation describe RDF Graph presentations in terms of lifting, lowering, and validation rules.

   - lifting rules can be used to generate a RDF graph from a document, using for instance a RML mapping, a XSPARQL rule, or SPARQL-Generate rule;
   - lowering rules can be used to generate a document from a RDF graph, using for instance a STTL rule (aka. SPARQL-Template).
   - validation rules can be used to validate a document, using for instance a regular expression, a XSD Schema, or a JSON Schema

   For example,

    https://w3id.org/rdfp/example/graph/xml> a rdfp:GraphPresentation ; 
        rdfp:mediaType "application/xml" ; 
        rdfp:liftingRule <https://w3id.org/rdfp/example/graph/xml/lifingRule> ;
        rdfp:loweringRule <https://w3id.org/rdfp/example/graph/xml/loweringRule> ."""@en ;
  vs:term_status "testing" ;
  rdfs:isDefinedBy rdfp: .

rdfp:presentedBy a rdf:Property ;
  rdfs:label "presented by"@en ;
  rdfs:comment """Links a RDF graph description to one of its presentation means."""@en ;
  rdfs:domain rdfp:GraphDescription ;
  rdfs:range rdfp:GraphPresentation ;
  vs:term_status "testing" ;
  rdfs:isDefinedBy rdfp: .

rdfp:presentationFor a rdf:Property ;
  rdfs:label "presentation for"@en ;
  rdfs:comment """Links a RDF graph presentation to the description of RDF graphs it may present."""@en ;
  rdfs:domain rdfp:GraphPresentation ;
  rdfs:range rdfp:GraphDescription ;
  vs:term_status "testing" ;
  rdfs:isDefinedBy rdfp: .

rdfp:mediaType a rdf:Property ;
  rdfs:label "media type"@en ;
  rdfs:comment "Links a presentation to the media type of documents it can be used for."@en ;
  rdfs:domain rdfp:GraphPresentation ;
  vs:term_status "testing" ;
  rdfs:isDefinedBy rdfp: .

rdfp:validationRule a rdf:Property ;
  rdfs:label "validation rule"@en ;
  rdfs:comment """Links a graph description (resp. a presentation) to a validation rule against which graphs conforming to this description (resp. representations conforming to this presentation) should validate. Such resources may have various representations.

  For example, resource identified by <some_validation_rule> may have a representation as a SPARQL ASK query, another as a ShEx Shape expression."""@en ;
  vs:term_status "testing" ;
  rdfs:isDefinedBy rdfp: .

rdfp:GraphValidationRule a rdfs:Class ;
  rdfs:label "Graph Validation Rule"@en ;
  rdfs:comment """The class of graph validation rules resources. 
  Such resources may have various representations:
  - a RDF Graph representation that contains SHACL instances;
  - a ShEx document;
  - a SPARQL ASK rule.

  For example, 

  <g> a rdfp:GraphDescription ;
    rdfp:validationRule <v> .

  An RDFP engine willing to validate the conformance of a graph G described by <g> with SPARQL ASK queries should follow these steps:
   - operate a GET request at URI <v> with accepted media type "application/sparql-query"
   - run the retrieved SPARQL ASK query against G.
   - If the result is true, then G validates against <v>."""@en ;
  vs:term_status "testing" ;
  rdfs:isDefinedBy rdfp: .

rdfp:RepresentationValidationRule a rdfs:Class ;
  rdfs:label "Representation Validation Rule"@en ;
  rdfs:comment """The class of representation validation rules resources. 
  Such resources may have various representations:
  - a JSON Schema for JSON representations;
  - a XML Schema for XML representations;
  - a XPath query that must retrieve an element to validate."""@en ;
  vs:term_status "testing" ;
  rdfs:isDefinedBy rdfp: .


rdfp:liftingRule a rdf:Property ;
  rdfs:label "lifting rule"@en ;
  rdfs:comment """Links a graph presentation to a resource that enables to lift documents to RDF."""@en ;
  rdfs:domain rdfp:GraphRepresentation ;
  rdfs:range rdfp:LiftingRule ;
  vs:term_status "testing" ;
  rdfs:isDefinedBy rdfp: .

rdfp:LiftingRule a rdfs:Class ;
  rdfs:label "Lifting Rule"@en ;
  rdfs:comment """The class of rules that enable RDF lifting.
  Such rules may have various representations, such as a RML mapping, a  SPARQL-Generate or a XSPARQL query."""@en ;
  vs:term_status "testing" ;
  rdfs:isDefinedBy rdfp: .


rdfp:loweringRule a rdf:Property ;
  rdfs:label "lowering rule"@en ;
  rdfs:comment """Links a graph description to a resource that enables to lower a RDF Graph to a document."""@en ;
  rdfs:domain rdfp:GraphRepresentation ;
  rdfs:range rdfp:LoweringRule ;
  vs:term_status "testing" ;
  rdfs:isDefinedBy rdfp: .

rdfp:LoweringRule a rdfs:Class ;
  rdfs:label "Lowering Rule"@en ;
  rdfs:comment """The class of rules that enable RDF lowering. 
  Such rules may have various representations, such as a STTL rule."""@en ;
  vs:term_status "testing" ;
  rdfs:isDefinedBy rdfp: .
